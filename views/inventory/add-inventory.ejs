<!-- **** ADD INVENTORY **** -->

<% if (title) { %>
  <h1><%= title %></h1>
<% } else { %>
  <% res.redirect('/') %>
<% } %>

<!-- Flash Messages -->
<%- messages() %>

<!-- Validation Errors -->
<% if (errors) { %>
  <ul class="notice">
    <% errors.array().forEach(error => { %>
      <li><%= error.msg %></li>
    <% }) %>
  </ul>
<% } %>

<div class="container">
  <div class="add-class-container">
    
<form action="/inv/add-inventory" method="post" class="form-container">

  <!-- Classification -->
  <div class="input">
    <label for="classification_id">Classification</label>
    <%- classificationSelect %>
  </div>

  <!-- Make -->
  <div class="input">
    <label for="inv_make">Make</label>
    <input
      type="text"
      id="inv_make"
      name="inv_make"
      minlength="3"
      placeholder="Min 3 characters"
      value="<%= inv_make || '' %>"
      required
    />
  </div>

  <!-- Model -->
  <div class="input">
    <label for="inv_model">Model</label>
    <input
      type="text"
      id="inv_model"
      name="inv_model"
      minlength="3"
      placeholder="Min 3 characters"
      value="<%= inv_model || '' %>"
      required
    />
  </div>

  <!-- Description -->
  <div class="input">
    <label for="inv_description">Description</label>
    <textarea
      id="inv_description"
      name="inv_description"
      required
    ><%= inv_description || '' %></textarea>
  </div>

  <!-- Image Path -->
  <div class="input">
    <label for="inv_image">Image Path</label>
    <input
      type="text"
      id="inv_image"
      name="inv_image"
      value="<%= inv_image || '/images/vehicles/no-image.png' %>"
      required
    />
  </div>

  <!-- Thumbnail Path -->
  <div class="input">
    <label for="inv_thumbnail">Thumbnail Path</label>
    <input
      type="text"
      id="inv_thumbnail"
      name="inv_thumbnail"
      value="<%= inv_thumbnail || '/images/vehicles/no-image-tn.png' %>"
      required
    />
  </div>

  <!-- Price -->
  <div class="input">
    <label for="inv_price">Price</label>
    <input
      type="text"
      id="inv_price"
      name="inv_price"
      pattern="^[0-9]+(\.[0-9]{1,2})?$"
      placeholder="Decimal or integer"
      value="<%= inv_price || '' %>"
      required
    />
  </div>

  <!-- Year (MOVED BELOW PRICE âœ…) -->
  <div class="input">
    <label for="inv_year">Year</label>
    <input
      type="text"
      id="inv_year"
      name="inv_year"
      pattern="^[0-9]{4}$"
      maxlength="4"
      placeholder="4-digit year"
      value="<%= inv_year || '' %>"
      required
    />
  </div>

  <!-- Miles -->
  <div class="input">
    <label for="inv_miles">Miles</label>
    <input
      type="text"
      id="inv_miles"
      name="inv_miles"
      pattern="^[0-9]+$"
      placeholder="Digits only"
      value="<%= inv_miles || '' %>"
      required
    />
  </div>

  <!-- Color -->
  <div class="input">
    <label for="inv_color">Color</label>
    <input
      type="text"
      id="inv_color"
      name="inv_color"
      value="<%= inv_color || '' %>"
      required
    />
  </div>

  <div class="submit-button">
    <button type="submit">Add Vehicle</button>
  </div>

</form>
